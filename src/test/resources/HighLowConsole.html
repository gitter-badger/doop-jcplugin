<br>
public class HighLowConsole extends ConsoleApplet {<br>
    <br>
    public HighLowConsole() {<br>
        super();<br>
    }<br>
    <br>
    protected String getTitle() {<br>
        return "Sample program \"HighLow\"";<br>
    }<br>
    <br>
    protected void program() {<br>
        console.putln("This program lets you play the simple card game HighLow.");<br>
        console.putln("A card is dealt from a deck of cards.  You have to predict");<br>
        console.putln("whether the next card will be higher or lower.  Your score");<br>
        console.putln("in the game is how many correct predictions you make before");<br>
        console.putln("you guess wrong.");<br>
        console.putln();<br>
        int gamesPlayed = 0;<br>
        int sumOfScores = 0;<br>
        double averageScore;<br>
        boolean playAgain;<br>
        do {<br>
            int scoreThisGame;<br>
            scoreThisGame = play();<br>
            sumOfScores += scoreThisGame;<br>
            gamesPlayed++;<br>
            console.put("Play again? ");<br>
            playAgain = console.getlnBoolean();<br>
        }         while (playAgain);<br>
        averageScore = ((double)sumOfScores) / gamesPlayed;<br>
        console.putln();<br>
        console.putln("You played " + gamesPlayed + " games.");<br>
        console.putln("Your average score was " + averageScore);<br>
    }<br>
    <br>
    int play() {<br>
        Deck deck = new Deck();<br>
        Card currentCard;<br>
        Card nextCard;<br>
        int correctGuesses;<br>
        char guess;<br>
        deck.shuffle();<br>
        correctGuesses = 0;<br>
        currentCard = deck.dealCard();<br>
        console.putln("The first card is the " + currentCard);<br>
        while (true) {<br>
            console.put("Will the next card be higher (H) or lower (L)?  ");<br>
            do {<br>
                guess = console.getlnChar();<br>
                guess = Character.toUpperCase(guess);<br>
                if (guess != 'H' && guess != 'L') console.put("Please respond with H or L:  ");<br>
            }             while (guess != 'H' && guess != 'L');<br>
            nextCard = deck.dealCard();<br>
            console.putln("The next card is " + nextCard);<br>
            if (nextCard.getValue() == currentCard.getValue()) {<br>
                console.putln("The value is the same as the previous card.");<br>
                console.putln("You lose on ties.  Sorry!");<br>
                break;<br>
            } else if (nextCard.getValue() > currentCard.getValue()) {<br>
                if (guess == 'H') {<br>
                    console.putln("Your prediction was correct.");<br>
                    correctGuesses++;<br>
                } else {<br>
                    console.putln("Your prediction was incorrect.");<br>
                    break;<br>
                }<br>
            } else {<br>
                if (guess == 'L') {<br>
                    console.putln("Your prediction was correct.");<br>
                    correctGuesses++;<br>
                } else {<br>
                    console.putln("Your prediction was incorrect.");<br>
                    break;<br>
                }<br>
            }<br>
            currentCard = nextCard;<br>
            console.putln();<br>
            console.putln("The card is " + currentCard);<br>
        }<br>
        console.putln();<br>
        console.putln("The game is over.");<br>
        console.putln("You made " + correctGuesses + " correct predictions.");<br>
        console.putln();<br>
        return correctGuesses;<br>
    }<br>
}